<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>词法作用域</title>
</head>
<body>
    <script>
        // 局部作用域是在函数定义时产生，还是在函数调用时产生？ 调用时产生。
       /* function fn() {
            var a = 2;
        }
        fn();
        fn();*/
        // 问：函数调用两次，局部变量a是不是同一个？ 不是同一个

        /*
        * 词法作用域和函数作用域比较：
        * 词法作用域说的是变量的查找规则。
        * 函数作用域说的是分隔和产生新作用域的条件。
        * */

        /*
        * 词法作用域：
        * 在函数内部访问一个变量，如果这个变量不是形参，也没有在函数内定义过这个变量，
        * 那么就会向定义这个函数的环境中去找(也就是说变量的查找和函数定义有关，和运行无关。)，
        * 如果找不到，那么就一直往上找，直到全局环境为止。
        * */

        // 例子1
        /*var a = 2;
        function fn() {
            console.log(a);   // 2
        }

        fn();*/

        // 例子2
        /*function fn() {
            var a = 2;
            (function inF() {
                console.log(a);   // 2
            }());
        }
        fn();*/

        // 例子3
        /*var a = 2;
        function fn() {
            (function inF() {
                console.log(a);   // 2
            }());
        }
        fn();*/

        // 反例
        /*function fn() {
            console.log(a);   // 报错
        }
        (function fn2() {
            var a = 1;
            fn();
        }());*/


        /*
         * 动态作用域：
         * 在函数内部访问一个变量，如果这个变量不是形参，也没有在函数内定义过这个变量，
         * 那么就会去调用这个函数的环境中去找(也就是说变量的查找和运行有关，和定义无关。)，
         * 如果找不到，那么就一直往上找，直到全局环境为止。
         * */
    </script>
</body>
</html>